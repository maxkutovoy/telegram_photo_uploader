# Сервис для загрузки фотографйи в Telegram

Сервис получает фотографии последнего старта SpaceX в (в котором есть фотографии), фото дня и фото Земли NASA и выгружет их в Telegram с заданным интервалом.

## Как установить:

### Установить зависимости

 Python3 должен быть уже установлен. Далее используйте `pip` (или `pip3`, есть конфликт с python2) для установки зависимостей:

```
pip install -r requirements.txt
```

### Получить API-токен NASA

Токен можно получить после заполнения формы на сайте [https://api.nasa.gov/](https://api.nasa.gov/)

### Создать Телеграм-бота
Для создания канала, бота и получения токена можно воспользоваться [инструкцией](https://smmplanner.com/blog/otlozhennyj-posting-v-telegram/)


### Создать файл `.env`

Файл `.env` необходимо создать рядом с `main.py`. В этом фале прописываем настройки сервиса в виде `КЛЮЧ="Значение"`:

`NASA_TOKEN="ВАШ_ТОКЕН_НАСА"` - токен полученный на сайте NASA

`TELEGRAM_TOKEN="ВАШ_ТЕЛЕГРАМ_ТОКЕН"` - токен бота телеграм.

`CHANNEL_ID=""` - ID канала в котором будут публиковаться фотографии - это ссылка на него, например `@dvmn_flood`.

`ROOT_IMG_DIR`='' - название папки в которую будут сохраняться загруженные фотографии, например `"images"`

`TIME_INTERVAL=10` - интервал в секундах, через который фотографии будут публиковаться на канале. Чтобы фотографии публиковались через сутки укажите `86400`

## Как использовать

Сервис не требует дополнительных параметров для запуска.

Команда для запуска в терминале Widows:

```
python bot.py
```

и для MacOS и Linux:

```
python3 bot.py
```

Все найденные фотографии сохраняются в директорию `images/`. Фотографии `SpaceX` сохраняются в директорию `images/spacexdata`, фотографии `NASA` в директорию `images/nasa`

Перед публикацией бот заново собирает фотографии, после публикации загруженные фотографии удаляются.


## Цель проекта

Код написан в образовательных целях на курсе для web-разработчиков [dvmn.org](https://dvmn.org/)